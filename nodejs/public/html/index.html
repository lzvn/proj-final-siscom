<!doctype html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>RTL-SDR Player</title>

    <link rel="stylesheet" href="css/style.css"/>
    <!--ícone tirado de https://commons.wikimedia.org/wiki/File:Radio_Takchang.jpg-->
	<link rel="icon" type="image/jpg" href="favicon.ico"/>
	
	<script src="javascript/index-bundle.js"></script>
  </head>
  <body onload="initInfo(); initAudio()">
    <div id="corpo-princ">
      <h1 id="titulo-princ">Player online de SDR</h1>
      <h2 id="subtitulo-princ">Versão simples para testes</h2>
      <br/><br/>

      <!--Por padrão, os ids dentro de info-text são o nome do id do input ao qual se referem seguido de show (e.g. frq==>frqshow)-->
      <div id="info-text">
	<p id="errorshow"></p>
	<p id="frqshow"></p>
	<p id="bndeqshow"></p>
	<p id="bnddrshow"></p>
	<p id="dmdshow"></p>
	<p id="onoffshow"></p>
	<p id="volshow"></p>
	<p id="fltshow"></p>

      </div>

      <br><br>

      <form action="" method="post" id="controle" onchange="sendServer(false)">

	<!--Funcionamento e volume-->
	<!--O id 'onoff' está repetido, deixar assim-->
	<div id="on-off-sect" onchange="usr_cfg.onoff=updateInfoText(event.target); audioPlayPause(usr_cfg.onoff)">
	  <label for="on-off">Funcionamento</label>
	  <input id='onoff' name="on-off" type="radio" value="on"/>
	  <label for="on">Ligado</label>

	  <input id='onoff' name="on-off" type="radio" value="off" checked="checked"/>
	  <label for="off">Desligado</label><br>
	</div>

	<label for="volume">Volume: </label>
	<input
	  id="vol"
	  name="volume" type="range" value="50" min="0" max="100"
	  onmousemove="usr_cfg.vol=updateInfoText(event.target); updateVolume(usr_cfg.vol)"
	  onchange="usr_cfg.vol=updateInfoText(event.target); updateVolume(usr_cfg.vol)"
	  /><br><br>

	<!--Frequência e banda de recepção-->
	<label for="freq-sint">Frequência de sintonização (MHz)</label>
	<input
	  id="frq"
	  name="freq-sint" type="range" value="97.5" min="85" max="110" step="0.5"
	  onmousemove="updateInfoText(event.target)"
	  onchange="usr_cfg.freq=updateInfoText(event.target)"
	  ><br><br>

	<label for="banda-esq">Banda esquerda</label>
	<input
	  id="bndeq"
	  name="banda-esq" type="range" value="16" min="0" max="25" step="0.5"
	  onmousemove="updateInfoText(event.target)"
	  onchange="usr_cfg.bnd_esq=updateInfoText(event.target)"
	  />
	<label for="banda-dir">Banda direita</label>
	<input
	  id="bnddr"
	  name="banda-dir" type="range" value="16" min="0" max="25" step="0.5"
	  onmousemove="updateInfoText(event.target)"
	  onchange="usr_cfg.bnd_dir=updateInfoText(event.target)"
	  /><br><br>

	<!--Método de demodulação-->
	<!--O id 'dmd' está repetido, deixar assim-->
	<div id="dmd-sect" onchange="usr_cfg.dmd=updateInfoText(event.target); updateDemod(usr_cfg.dmd)">
	  <label for="">Método de demodulação:</label>

	  <input id='dmd' name="demod" type="radio" value="nenhum" checked="checked"/>
	  <label for="nenhum">Nenhum</label>

	  <input id='dmd' name="demod" type="radio" value="am"/>
	  <label for="am">AM</label>

	  <input id='dmd' name="demod" type="radio" value="fm"/>
	  <label for="fm">FM</label>

	  <input id='dmd' name="demod" type="radio" value="lsb"/>
	  <label for="lsb">LSB</label>

	  <input id='dmd' name="demod" type="radio" value="usb"/>
	  <label for="usb">USB</label><br><br>
	</div>

	<input
	  id='flt' name="filtro-ruido" type="checkbox" checked="checked"
	  onchange="event.target.value = (event.target.checked===true)?'on':'off'; usr_cfg.flt=updateInfoText(event.target); updateFilter(usr_cfg.flt)"
	  />
	<label for="filtro-ruido">Filtrar ruido</label><br>

	<input id="submit-btn" type="submit" hidden/>
      </form>
    </div>

	<audio id='audio-stream' loop hidden>
		<source src="/audios/audio.wav" type="audio/wav"></source>
	</audio>
	<br><br><br>
  </body>
</html>
